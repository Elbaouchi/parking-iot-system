# ===== Configuration Mosquitto - Parking IoT =====

# Port MQTT standard pour les capteurs IoT
listener 1883
protocol mqtt

# Port WebSocket pour les clients web (dashboard)
listener 9001
protocol websockets

# Autoriser les connexions sans authentification (développement)
allow_anonymous true

# Persistance des messages
persistence true
persistence_location C:/Program Files/mosquitto/data/

# Messages retained (garder le dernier message)
max_retained_messages 1000

# Fichiers de log
log_dest file C:/Program Files/mosquitto/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information

# Timestamp dans les logs
log_timestamp true
log_timestamp_format %Y-%m-%d %H:%M:%S

# Sécurité (pour production)
# password_file C:/Program Files/mosquitto/passwd
# acl_file C:/Program Files/mosquitto/acl

# Limites de connexion
max_connections 100
max_queued_messages 1000

# Timeouts
keepalive_interval 60